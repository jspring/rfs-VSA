<!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="30" />
</head>
<body>

<div id="map" style="width:100%;height:500px;"></div>

<script>
function myMap() {
	var mapCanvas = document.getElementById("map");
	var myCenter = new google.maps.LatLng(33.16353595,-117.1946107);
	var mapOptions = {center: myCenter, zoom: 13};
	var map = new google.maps.Map(mapCanvas, mapOptions);

	var sunset_coord = new google.maps.LatLng(33.1879805,-117.2434712);
	var sycamore_coord = new google.maps.LatLng(33.1679467,-117.2210855);
	var las_posas_coord = new google.maps.LatLng(33.144845,-117.1946765);
	var san_marcos_coord = new google.maps.LatLng(33.1381344,-117.1804071);
	var twin_oaks_coord = new google.maps.LatLng(33.1368429,-117.1646666);
	var woodland_coord = new google.maps.LatLng(33.1390914,-117.1457502);
	var nordahl_coord = new google.maps.LatLng(33.130511, -117.123163);

	var sunset_marker = new google.maps.Marker({ position: sunset_coord, map: map });
	var sycamore_marker = new google.maps.Marker({ position: sycamore_coord, map: map });
	var las_posas_marker = new google.maps.Marker({ position: las_posas_coord, map: map });
	var san_marcos_marker = new google.maps.Marker({ position: san_marcos_coord, map: map });
	var twin_oaks_marker = new google.maps.Marker({ position: twin_oaks_coord, map: map });
	var woodland_marker = new google.maps.Marker({ position: woodland_coord, map: map });
	var nordahl_marker = new google.maps.Marker({ position: nordahl_coord, map: map });

        google.maps.event.addListener(sunset_marker, 'click', function(event) { placeMarkerSunset(map, sunset_coord); });
        google.maps.event.addListener(sycamore_marker, 'click', function(event) { placeMarkerSycamore(map, sycamore_coord); });
        google.maps.event.addListener(las_posas_marker, 'click', function(event) { placeMarkerLasPosas(map, las_posas_coord); });
        google.maps.event.addListener(san_marcos_marker, 'click', function(event) { placeMarkerSanMarcos(map, san_marcos_coord); });
        google.maps.event.addListener(twin_oaks_marker, 'click', function(event) { placeMarkerTwinOaks(map, twin_oaks_coord); });
        google.maps.event.addListener(woodland_marker, 'click', function(event) { placeMarkerWoodland(map, woodland_coord); });
        google.maps.event.addListener(nordahl_marker, 'click', function(event) { placeMarkerNordahl(map, nordahl_coord); });
}

function LoadFile() {
    var oFrame = document.getElementById("frmFile");
    var strRawContents = oFrame.contentWindow.document.body.childNodes[0].innerHTML;
    while (strRawContents.indexOf("\r") >= 0)
        strRawContents = strRawContents.replace("\r", "");
    var arrLines = strRawContents.split("\n");
//    alert("File " + oFrame.src + " has " + arrLines.length + " lines");
    for (var i = 0; i < arrLines.length; i++) {
        var curLine = arrLines[i];
//        alert("Line #" + (i + 1) + " is: '" + curLine + "'");
        alert(curLine);
    }
}

function placeMarkerSunset(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map,
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/198" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<iframe id="frmFile" src="../webdata/13006" onload="LoadFile();" style="display: none;"></iframe>');
//  infowindow.setContent('<iframe id="frmFile" src="../webdata/sr78_sunset_vsa.txt" onload="LoadFile();" style="display: none;"></iframe>');
  infowindow.open(map,marker);
}

function placeMarkerSycamore(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/203" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_sycamore_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}

function placeMarkerLasPosas(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/398" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_las_posas_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}

function placeMarkerSanMarcos(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/180" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_san_marcos_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}

function placeMarkerTwinOaks(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/234" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_twin_oaks_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}

function placeMarkerWoodland(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/234" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_woodland_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}

function placeMarkerNordahl(map, location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  var infowindow = new google.maps.InfoWindow({ });
  infowindow.setContent('<a href="webdata/13006" target="_blank">VSA<F2></a>');
//  infowindow.setContent('<a href="../webdata/sr78_nordahl_vsa.txt" target="_blank">VSA<F2></a>');
  infowindow.open(map,marker);
}


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDXMSv7dAwwKUruo7YaAU_KMYUf46jWb-4&callback=myMap"></script>
<!--
To use this code on your website, get a free API key from Google.
Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp
-->

</body>
</html>
